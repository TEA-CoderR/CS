Memory initialized with        1024 words
Page table structure (1024-word memory):
  Root PT at 0x0400 (word index 256)
  L2 PT at 0x0800 (word index 512)
  Usable address range: 0x0000-0x00000ffc
VCD info: dumpfile test_integrated_memory_ptw.vcd opened for output.
================================================
Memory-PTW Integrated Test Starting
================================================
Page Table Layout:
  Root PT at 0x0400 (word index 256)
    [0]: 0x00000801 -> L2 PT at 0x0800
    [1]: 0x12340007 -> Megapage PPN=0x1234
    [2]: 0x00000000 -> Invalid
  L2 PT at 0x0800 (word index 512)
    [0]: 0x1000000F -> PPN=0x10000
    [1]: 0x1100000F -> PPN=0x11000
    [2]: 0x12000007 -> PPN=0x12000
    [3]: 0x00000000 -> Invalid
================================================

=== Test 1: System Reset ===
System reset completed
PASS: System ready after reset

=== Test 2: Two-Level Page Table Walks ===

--- Testing [           4K page VPN1=0,VPN0=0] ---
Virtual Address: 0x00000000
  [INTEGRATED] Starting translation for vaddr=0x00000000
    VPN1=   0, VPN0=   0
[PTW] Request: vaddr=0x00000000, vpn1=   0, vpn0=   0
[35] PTW State: 0 -> 1
[35] [TRANSACTION] PTW request: vaddr=0x00000000
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[PTW] Memory Request: addr=0x00000400
[55] PTW State: 1 -> 2
[55] Memory State: 0 -> 1
[55] [TRANSACTION] Memory request: addr=0x00000400
[65] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[MEM] Response: data=0x00000801
[PTW] Memory Response: data=0x00000801
[75] PTW State: 2 -> 3
[75] Memory State: 2 -> 0
[75] [TRANSACTION] Memory response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x00000800
[MEM] Request: addr=0x00000800, word_idx= 512
[PTW] Memory Request: addr=0x00000800
[95] PTW State: 3 -> 4
[95] Memory State: 0 -> 1
[95] [TRANSACTION] Memory request: addr=0x00000800
[105] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x1000000f
[MEM] Response: data=0x1000000f
[PTW] Memory Response: data=0x1000000f
[115] PTW State: 4 -> 5
[115] Memory State: 2 -> 0
[115] [TRANSACTION] Memory response: data=0x1000000f
[PTW] Response: pte=0x1000000f
[135] PTW State: 5 -> 0
[135] [TRANSACTION] PTW response: pte=0x1000000f
  [INTEGRATED] Translation complete: pte=0x1000000f
PASS [           4K page VPN1=0,VPN0=0]: vaddr=0x00000000 -> pte=0x1000000f

--- Testing [           4K page VPN1=0,VPN0=1] ---
Virtual Address: 0x00001000
  [INTEGRATED] Starting translation for vaddr=0x00001000
    VPN1=   0, VPN0=   1
[165] [TRANSACTION] PTW request: vaddr=0x00001000
[165] PTW State: 0 -> 1
[PTW] Request: vaddr=0x00001000, vpn1=   0, vpn0=   1
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[185] [TRANSACTION] Memory request: addr=0x00000400
[185] PTW State: 1 -> 2
[185] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[195] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[205] [TRANSACTION] Memory response: data=0x00000801
[205] PTW State: 2 -> 3
[205] Memory State: 2 -> 0
[PTW] Memory Response: data=0x00000801
[MEM] Response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x00000804
[225] [TRANSACTION] Memory request: addr=0x00000804
[225] PTW State: 3 -> 4
[225] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000804
[MEM] Request: addr=0x00000804, word_idx= 513
[235] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x1100000f
[245] [TRANSACTION] Memory response: data=0x1100000f
[245] PTW State: 4 -> 5
[245] Memory State: 2 -> 0
[PTW] Memory Response: data=0x1100000f
[MEM] Response: data=0x1100000f
[265] [TRANSACTION] PTW response: pte=0x1100000f
[265] PTW State: 5 -> 0
[PTW] Response: pte=0x1100000f
  [INTEGRATED] Translation complete: pte=0x1100000f
PASS [           4K page VPN1=0,VPN0=1]: vaddr=0x00001000 -> pte=0x1100000f

--- Testing [           4K page VPN1=0,VPN0=2] ---
Virtual Address: 0x00002000
  [INTEGRATED] Starting translation for vaddr=0x00002000
    VPN1=   0, VPN0=   2
[PTW] Request: vaddr=0x00002000, vpn1=   0, vpn0=   2
[295] PTW State: 0 -> 1
[295] [TRANSACTION] PTW request: vaddr=0x00002000
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[PTW] Memory Request: addr=0x00000400
[315] PTW State: 1 -> 2
[315] Memory State: 0 -> 1
[315] [TRANSACTION] Memory request: addr=0x00000400
[325] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[MEM] Response: data=0x00000801
[PTW] Memory Response: data=0x00000801
[335] PTW State: 2 -> 3
[335] Memory State: 2 -> 0
[335] [TRANSACTION] Memory response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x00000808
[MEM] Request: addr=0x00000808, word_idx= 514
[PTW] Memory Request: addr=0x00000808
[355] PTW State: 3 -> 4
[355] Memory State: 0 -> 1
[355] [TRANSACTION] Memory request: addr=0x00000808
[365] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x12000007
[MEM] Response: data=0x12000007
[PTW] Memory Response: data=0x12000007
[375] PTW State: 4 -> 5
[375] Memory State: 2 -> 0
[375] [TRANSACTION] Memory response: data=0x12000007
[PTW] Response: pte=0x12000007
[395] PTW State: 5 -> 0
[395] [TRANSACTION] PTW response: pte=0x12000007
  [INTEGRATED] Translation complete: pte=0x12000007
PASS [           4K page VPN1=0,VPN0=2]: vaddr=0x00002000 -> pte=0x12000007

=== Test 3: Detailed Page Walk Verification ===

=== Detailed Walk [    Detailed walk for 0x00000000] ===
Testing vaddr=0x00000000
[425] [TRANSACTION] PTW request: vaddr=0x00000000
[425] PTW State: 0 -> 1
[PTW] Request: vaddr=0x00000000, vpn1=   0, vpn0=   0
  Memory Access           0: addr=0x00000400
[445] [TRANSACTION] Memory request: addr=0x00000400
[445] PTW State: 1 -> 2
[445] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[455] Memory State: 1 -> 2
  Memory Response           0: data=0x00000801
[465] [TRANSACTION] Memory response: data=0x00000801
[465] PTW State: 2 -> 3
[465] Memory State: 2 -> 0
[PTW] Memory Response: data=0x00000801
[MEM] Response: data=0x00000801
  Memory Access           1: addr=0x00000800
[485] [TRANSACTION] Memory request: addr=0x00000800
[485] PTW State: 3 -> 4
[485] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000800
[MEM] Request: addr=0x00000800, word_idx= 512
[495] Memory State: 1 -> 2
  Memory Response           1: data=0x1000000f
[505] [TRANSACTION] Memory response: data=0x1000000f
[505] PTW State: 4 -> 5
[505] Memory State: 2 -> 0
[PTW] Memory Response: data=0x1000000f
[MEM] Response: data=0x1000000f
[PTW] Response: pte=0x1000000f
[515] PTW State: 5 -> 0
[515] [TRANSACTION] PTW response: pte=0x1000000f
  Final PTE: 0x1000000f (expected: 0x1000000f)
  L1 Access - Addr: 0x00000400 (expected: 0x00000400), Data: 0x00000801 (expected: 0x00000801)
  L2 Access - Addr: 0x00000800 (expected: 0x00000800)
PASS [    Detailed walk for 0x00000000]: Complete page walk successful

=== Detailed Walk [    Detailed walk for 0x00001000] ===
Testing vaddr=0x00001000
[PTW] Request: vaddr=0x00001000, vpn1=   0, vpn0=   1
[535] PTW State: 0 -> 1
[535] [TRANSACTION] PTW request: vaddr=0x00001000
  Memory Access           0: addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[PTW] Memory Request: addr=0x00000400
[555] PTW State: 1 -> 2
[555] Memory State: 0 -> 1
[555] [TRANSACTION] Memory request: addr=0x00000400
[565] Memory State: 1 -> 2
  Memory Response           0: data=0x00000801
[MEM] Response: data=0x00000801
[PTW] Memory Response: data=0x00000801
[575] PTW State: 2 -> 3
[575] Memory State: 2 -> 0
[575] [TRANSACTION] Memory response: data=0x00000801
  Memory Access           1: addr=0x00000804
[MEM] Request: addr=0x00000804, word_idx= 513
[PTW] Memory Request: addr=0x00000804
[595] PTW State: 3 -> 4
[595] Memory State: 0 -> 1
[595] [TRANSACTION] Memory request: addr=0x00000804
[605] Memory State: 1 -> 2
  Memory Response           1: data=0x1100000f
[MEM] Response: data=0x1100000f
[PTW] Memory Response: data=0x1100000f
[615] PTW State: 4 -> 5
[615] Memory State: 2 -> 0
[615] [TRANSACTION] Memory response: data=0x1100000f
[625] [TRANSACTION] PTW response: pte=0x1100000f
[625] PTW State: 5 -> 0
[PTW] Response: pte=0x1100000f
  Final PTE: 0x1100000f (expected: 0x1100000f)
  L1 Access - Addr: 0x00000400 (expected: 0x00000400), Data: 0x00000801 (expected: 0x00000801)
  L2 Access - Addr: 0x00000804 (expected: 0x00000804)
PASS [    Detailed walk for 0x00001000]: Complete page walk successful

=== Test 4: Invalid Page Table Entries ===

--- Testing [                Invalid L1 entry] ---
Virtual Address: 0x80000000
  [INTEGRATED] Starting translation for vaddr=0x80000000
    VPN1= 512, VPN0=   0
[645] [TRANSACTION] PTW request: vaddr=0x80000000
[645] PTW State: 0 -> 1
[PTW] Request: vaddr=0x80000000, vpn1= 512, vpn0=   0
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000c00
[665] [TRANSACTION] Memory request: addr=0x00000c00
[665] PTW State: 1 -> 2
[665] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000c00
[MEM] Request: addr=0x00000c00, word_idx= 768
[675] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000000
[685] [TRANSACTION] Memory response: data=0x00000000
[685] PTW State: 2 -> 5
[685] Memory State: 2 -> 0
[PTW] Memory Response: data=0x00000000
[MEM] Response: data=0x00000000
[705] [TRANSACTION] PTW response: pte=0x00000000
[705] PTW State: 5 -> 0
[PTW] Response: pte=0x00000000
  [INTEGRATED] Translation complete: pte=0x00000000
PASS [                Invalid L1 entry]: vaddr=0x80000000 -> pte=0x00000000

--- Testing [                Invalid L2 entry] ---
Virtual Address: 0x00003000
  [INTEGRATED] Starting translation for vaddr=0x00003000
    VPN1=   0, VPN0=   3
[PTW] Request: vaddr=0x00003000, vpn1=   0, vpn0=   3
[735] PTW State: 0 -> 1
[735] [TRANSACTION] PTW request: vaddr=0x00003000
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[PTW] Memory Request: addr=0x00000400
[755] PTW State: 1 -> 2
[755] Memory State: 0 -> 1
[755] [TRANSACTION] Memory request: addr=0x00000400
[765] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[MEM] Response: data=0x00000801
[PTW] Memory Response: data=0x00000801
[775] PTW State: 2 -> 3
[775] Memory State: 2 -> 0
[775] [TRANSACTION] Memory response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x0000080c
[MEM] Request: addr=0x0000080c, word_idx= 515
[PTW] Memory Request: addr=0x0000080c
[795] PTW State: 3 -> 4
[795] Memory State: 0 -> 1
[795] [TRANSACTION] Memory request: addr=0x0000080c
[805] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000000
[MEM] Response: data=0x00000000
[PTW] Memory Response: data=0x00000000
[815] PTW State: 4 -> 5
[815] Memory State: 2 -> 0
[815] [TRANSACTION] Memory response: data=0x00000000
[PTW] Response: pte=0x00000000
[835] PTW State: 5 -> 0
[835] [TRANSACTION] PTW response: pte=0x00000000
  [INTEGRATED] Translation complete: pte=0x00000000
PASS [                Invalid L2 entry]: vaddr=0x00003000 -> pte=0x00000000

=== Test 5: Address Boundary Testing ===

--- Testing [         Boundary: VPN1=0,VPN0=0] ---
Virtual Address: 0x00000000
  [INTEGRATED] Starting translation for vaddr=0x00000000
    VPN1=   0, VPN0=   0
[865] [TRANSACTION] PTW request: vaddr=0x00000000
[865] PTW State: 0 -> 1
[PTW] Request: vaddr=0x00000000, vpn1=   0, vpn0=   0
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[885] [TRANSACTION] Memory request: addr=0x00000400
[885] PTW State: 1 -> 2
[885] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[895] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[905] [TRANSACTION] Memory response: data=0x00000801
[905] PTW State: 2 -> 3
[905] Memory State: 2 -> 0
[PTW] Memory Response: data=0x00000801
[MEM] Response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x00000800
[925] [TRANSACTION] Memory request: addr=0x00000800
[925] PTW State: 3 -> 4
[925] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000800
[MEM] Request: addr=0x00000800, word_idx= 512
[935] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x1000000f
[945] [TRANSACTION] Memory response: data=0x1000000f
[945] PTW State: 4 -> 5
[945] Memory State: 2 -> 0
[PTW] Memory Response: data=0x1000000f
[MEM] Response: data=0x1000000f
[965] [TRANSACTION] PTW response: pte=0x1000000f
[965] PTW State: 5 -> 0
[PTW] Response: pte=0x1000000f
  [INTEGRATED] Translation complete: pte=0x1000000f
PASS [         Boundary: VPN1=0,VPN0=0]: vaddr=0x00000000 -> pte=0x1000000f

--- Testing [         Boundary: VPN1=0,VPN0=2] ---
Virtual Address: 0x00002000
  [INTEGRATED] Starting translation for vaddr=0x00002000
    VPN1=   0, VPN0=   2
[PTW] Request: vaddr=0x00002000, vpn1=   0, vpn0=   2
[995] PTW State: 0 -> 1
[995] [TRANSACTION] PTW request: vaddr=0x00002000
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[PTW] Memory Request: addr=0x00000400
[1015] PTW State: 1 -> 2
[1015] Memory State: 0 -> 1
[1015] [TRANSACTION] Memory request: addr=0x00000400
[1025] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[MEM] Response: data=0x00000801
[PTW] Memory Response: data=0x00000801
[1035] PTW State: 2 -> 3
[1035] Memory State: 2 -> 0
[1035] [TRANSACTION] Memory response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x00000808
[MEM] Request: addr=0x00000808, word_idx= 514
[PTW] Memory Request: addr=0x00000808
[1055] PTW State: 3 -> 4
[1055] Memory State: 0 -> 1
[1055] [TRANSACTION] Memory request: addr=0x00000808
[1065] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x12000007
[MEM] Response: data=0x12000007
[PTW] Memory Response: data=0x12000007
[1075] PTW State: 4 -> 5
[1075] Memory State: 2 -> 0
[1075] [TRANSACTION] Memory response: data=0x12000007
[PTW] Response: pte=0x12000007
[1095] PTW State: 5 -> 0
[1095] [TRANSACTION] PTW response: pte=0x12000007
  [INTEGRATED] Translation complete: pte=0x12000007
PASS [         Boundary: VPN1=0,VPN0=2]: vaddr=0x00002000 -> pte=0x12000007

--- Testing [Boundary: VPN1=0,VPN0=3(invalid)] ---
Virtual Address: 0x00003000
  [INTEGRATED] Starting translation for vaddr=0x00003000
    VPN1=   0, VPN0=   3
[1125] [TRANSACTION] PTW request: vaddr=0x00003000
[1125] PTW State: 0 -> 1
[PTW] Request: vaddr=0x00003000, vpn1=   0, vpn0=   3
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[1145] [TRANSACTION] Memory request: addr=0x00000400
[1145] PTW State: 1 -> 2
[1145] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[1155] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[1165] [TRANSACTION] Memory response: data=0x00000801
[1165] PTW State: 2 -> 3
[1165] Memory State: 2 -> 0
[PTW] Memory Response: data=0x00000801
[MEM] Response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x0000080c
[1185] [TRANSACTION] Memory request: addr=0x0000080c
[1185] PTW State: 3 -> 4
[1185] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x0000080c
[MEM] Request: addr=0x0000080c, word_idx= 515
[1195] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000000
[1205] [TRANSACTION] Memory response: data=0x00000000
[1205] PTW State: 4 -> 5
[1205] Memory State: 2 -> 0
[PTW] Memory Response: data=0x00000000
[MEM] Response: data=0x00000000
[1225] [TRANSACTION] PTW response: pte=0x00000000
[1225] PTW State: 5 -> 0
[PTW] Response: pte=0x00000000
  [INTEGRATED] Translation complete: pte=0x00000000
PASS [Boundary: VPN1=0,VPN0=3(invalid)]: vaddr=0x00003000 -> pte=0x00000000

=== Test 6: Back-to-Back Translations ===
  [INTEGRATED] Starting translation for vaddr=0x00000000
    VPN1=   0, VPN0=   0
[PTW] Request: vaddr=0x00000000, vpn1=   0, vpn0=   0
[1255] PTW State: 0 -> 1
[1255] [TRANSACTION] PTW request: vaddr=0x00000000
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[PTW] Memory Request: addr=0x00000400
[1275] PTW State: 1 -> 2
[1275] Memory State: 0 -> 1
[1275] [TRANSACTION] Memory request: addr=0x00000400
[1285] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[MEM] Response: data=0x00000801
[PTW] Memory Response: data=0x00000801
[1295] PTW State: 2 -> 3
[1295] Memory State: 2 -> 0
[1295] [TRANSACTION] Memory response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x00000800
[MEM] Request: addr=0x00000800, word_idx= 512
[PTW] Memory Request: addr=0x00000800
[1315] PTW State: 3 -> 4
[1315] Memory State: 0 -> 1
[1315] [TRANSACTION] Memory request: addr=0x00000800
[1325] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x1000000f
[MEM] Response: data=0x1000000f
[PTW] Memory Response: data=0x1000000f
[1335] PTW State: 4 -> 5
[1335] Memory State: 2 -> 0
[1335] [TRANSACTION] Memory response: data=0x1000000f
[PTW] Response: pte=0x1000000f
[1355] PTW State: 5 -> 0
[1355] [TRANSACTION] PTW response: pte=0x1000000f
  [INTEGRATED] Translation complete: pte=0x1000000f
PASS: Back-to-back test           0: vaddr=0x00000000 -> pte=0x1000000f
  [INTEGRATED] Starting translation for vaddr=0x00001000
    VPN1=   0, VPN0=   1
[1385] [TRANSACTION] PTW request: vaddr=0x00001000
[1385] PTW State: 0 -> 1
[PTW] Request: vaddr=0x00001000, vpn1=   0, vpn0=   1
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[1405] [TRANSACTION] Memory request: addr=0x00000400
[1405] PTW State: 1 -> 2
[1405] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[1415] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[1425] [TRANSACTION] Memory response: data=0x00000801
[1425] PTW State: 2 -> 3
[1425] Memory State: 2 -> 0
[PTW] Memory Response: data=0x00000801
[MEM] Response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x00000804
[1445] [TRANSACTION] Memory request: addr=0x00000804
[1445] PTW State: 3 -> 4
[1445] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000804
[MEM] Request: addr=0x00000804, word_idx= 513
[1455] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x1100000f
[1465] [TRANSACTION] Memory response: data=0x1100000f
[1465] PTW State: 4 -> 5
[1465] Memory State: 2 -> 0
[PTW] Memory Response: data=0x1100000f
[MEM] Response: data=0x1100000f
[1485] [TRANSACTION] PTW response: pte=0x1100000f
[1485] PTW State: 5 -> 0
[PTW] Response: pte=0x1100000f
  [INTEGRATED] Translation complete: pte=0x1100000f
PASS: Back-to-back test           1: vaddr=0x00001000 -> pte=0x1100000f
  [INTEGRATED] Starting translation for vaddr=0x00002000
    VPN1=   0, VPN0=   2
[PTW] Request: vaddr=0x00002000, vpn1=   0, vpn0=   2
[1515] PTW State: 0 -> 1
[1515] [TRANSACTION] PTW request: vaddr=0x00002000
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[PTW] Memory Request: addr=0x00000400
[1535] PTW State: 1 -> 2
[1535] Memory State: 0 -> 1
[1535] [TRANSACTION] Memory request: addr=0x00000400
[1545] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[MEM] Response: data=0x00000801
[PTW] Memory Response: data=0x00000801
[1555] PTW State: 2 -> 3
[1555] Memory State: 2 -> 0
[1555] [TRANSACTION] Memory response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x00000808
[MEM] Request: addr=0x00000808, word_idx= 514
[PTW] Memory Request: addr=0x00000808
[1575] PTW State: 3 -> 4
[1575] Memory State: 0 -> 1
[1575] [TRANSACTION] Memory request: addr=0x00000808
[1585] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x12000007
[MEM] Response: data=0x12000007
[PTW] Memory Response: data=0x12000007
[1595] PTW State: 4 -> 5
[1595] Memory State: 2 -> 0
[1595] [TRANSACTION] Memory response: data=0x12000007
[PTW] Response: pte=0x12000007
[1615] PTW State: 5 -> 0
[1615] [TRANSACTION] PTW response: pte=0x12000007
  [INTEGRATED] Translation complete: pte=0x12000007
PASS: Back-to-back test           2: vaddr=0x00002000 -> pte=0x12000007
  [INTEGRATED] Starting translation for vaddr=0x80000000
    VPN1= 512, VPN0=   0
[1645] [TRANSACTION] PTW request: vaddr=0x80000000
[1645] PTW State: 0 -> 1
[PTW] Request: vaddr=0x80000000, vpn1= 512, vpn0=   0
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000c00
[1665] [TRANSACTION] Memory request: addr=0x00000c00
[1665] PTW State: 1 -> 2
[1665] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000c00
[MEM] Request: addr=0x00000c00, word_idx= 768
[1675] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000000
[1685] [TRANSACTION] Memory response: data=0x00000000
[1685] PTW State: 2 -> 5
[1685] Memory State: 2 -> 0
[PTW] Memory Response: data=0x00000000
[MEM] Response: data=0x00000000
[1705] [TRANSACTION] PTW response: pte=0x00000000
[1705] PTW State: 5 -> 0
[PTW] Response: pte=0x00000000
  [INTEGRATED] Translation complete: pte=0x00000000
PASS: Back-to-back test           3: vaddr=0x80000000 -> pte=0x00000000

=== Test 7: System Stress Test ===
  [INTEGRATED] Starting translation for vaddr=0x00000000
    VPN1=   0, VPN0=   0
[PTW] Request: vaddr=0x00000000, vpn1=   0, vpn0=   0
[1735] PTW State: 0 -> 1
[1735] [TRANSACTION] PTW request: vaddr=0x00000000
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[PTW] Memory Request: addr=0x00000400
[1755] PTW State: 1 -> 2
[1755] Memory State: 0 -> 1
[1755] [TRANSACTION] Memory request: addr=0x00000400
[1765] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[MEM] Response: data=0x00000801
[PTW] Memory Response: data=0x00000801
[1775] PTW State: 2 -> 3
[1775] Memory State: 2 -> 0
[1775] [TRANSACTION] Memory response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x00000800
[MEM] Request: addr=0x00000800, word_idx= 512
[PTW] Memory Request: addr=0x00000800
[1795] PTW State: 3 -> 4
[1795] Memory State: 0 -> 1
[1795] [TRANSACTION] Memory request: addr=0x00000800
[1805] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x1000000f
[MEM] Response: data=0x1000000f
[PTW] Memory Response: data=0x1000000f
[1815] PTW State: 4 -> 5
[1815] Memory State: 2 -> 0
[1815] [TRANSACTION] Memory response: data=0x1000000f
[PTW] Response: pte=0x1000000f
[1835] PTW State: 5 -> 0
[1835] [TRANSACTION] PTW response: pte=0x1000000f
  [INTEGRATED] Translation complete: pte=0x1000000f
PASS: Stress test iteration           0
  [INTEGRATED] Starting translation for vaddr=0x00001000
    VPN1=   0, VPN0=   1
[1865] [TRANSACTION] PTW request: vaddr=0x00001000
[1865] PTW State: 0 -> 1
[PTW] Request: vaddr=0x00001000, vpn1=   0, vpn0=   1
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[1885] [TRANSACTION] Memory request: addr=0x00000400
[1885] PTW State: 1 -> 2
[1885] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[1895] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[1905] [TRANSACTION] Memory response: data=0x00000801
[1905] PTW State: 2 -> 3
[1905] Memory State: 2 -> 0
[PTW] Memory Response: data=0x00000801
[MEM] Response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x00000804
[1925] [TRANSACTION] Memory request: addr=0x00000804
[1925] PTW State: 3 -> 4
[1925] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000804
[MEM] Request: addr=0x00000804, word_idx= 513
[1935] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x1100000f
[1945] [TRANSACTION] Memory response: data=0x1100000f
[1945] PTW State: 4 -> 5
[1945] Memory State: 2 -> 0
[PTW] Memory Response: data=0x1100000f
[MEM] Response: data=0x1100000f
[1965] [TRANSACTION] PTW response: pte=0x1100000f
[1965] PTW State: 5 -> 0
[PTW] Response: pte=0x1100000f
  [INTEGRATED] Translation complete: pte=0x1100000f
PASS: Stress test iteration           1
  [INTEGRATED] Starting translation for vaddr=0x00002000
    VPN1=   0, VPN0=   2
[PTW] Request: vaddr=0x00002000, vpn1=   0, vpn0=   2
[1995] PTW State: 0 -> 1
[1995] [TRANSACTION] PTW request: vaddr=0x00002000
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[PTW] Memory Request: addr=0x00000400
[2015] PTW State: 1 -> 2
[2015] Memory State: 0 -> 1
[2015] [TRANSACTION] Memory request: addr=0x00000400
[2025] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[MEM] Response: data=0x00000801
[PTW] Memory Response: data=0x00000801
[2035] PTW State: 2 -> 3
[2035] Memory State: 2 -> 0
[2035] [TRANSACTION] Memory response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x00000808
[MEM] Request: addr=0x00000808, word_idx= 514
[PTW] Memory Request: addr=0x00000808
[2055] PTW State: 3 -> 4
[2055] Memory State: 0 -> 1
[2055] [TRANSACTION] Memory request: addr=0x00000808
[2065] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x12000007
[MEM] Response: data=0x12000007
[PTW] Memory Response: data=0x12000007
[2075] PTW State: 4 -> 5
[2075] Memory State: 2 -> 0
[2075] [TRANSACTION] Memory response: data=0x12000007
[PTW] Response: pte=0x12000007
[2095] PTW State: 5 -> 0
[2095] [TRANSACTION] PTW response: pte=0x12000007
  [INTEGRATED] Translation complete: pte=0x12000007
PASS: Stress test iteration           2
  [INTEGRATED] Starting translation for vaddr=0x80000000
    VPN1= 512, VPN0=   0
[2125] [TRANSACTION] PTW request: vaddr=0x80000000
[2125] PTW State: 0 -> 1
[PTW] Request: vaddr=0x80000000, vpn1= 512, vpn0=   0
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000c00
[2145] [TRANSACTION] Memory request: addr=0x00000c00
[2145] PTW State: 1 -> 2
[2145] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000c00
[MEM] Request: addr=0x00000c00, word_idx= 768
[2155] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000000
[2165] [TRANSACTION] Memory response: data=0x00000000
[2165] PTW State: 2 -> 5
[2165] Memory State: 2 -> 0
[PTW] Memory Response: data=0x00000000
[MEM] Response: data=0x00000000
[2185] [TRANSACTION] PTW response: pte=0x00000000
[2185] PTW State: 5 -> 0
[PTW] Response: pte=0x00000000
  [INTEGRATED] Translation complete: pte=0x00000000
PASS: Stress test iteration           3
  [INTEGRATED] Starting translation for vaddr=0x00000000
    VPN1=   0, VPN0=   0
[PTW] Request: vaddr=0x00000000, vpn1=   0, vpn0=   0
[2215] PTW State: 0 -> 1
[2215] [TRANSACTION] PTW request: vaddr=0x00000000
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[PTW] Memory Request: addr=0x00000400
[2235] PTW State: 1 -> 2
[2235] Memory State: 0 -> 1
[2235] [TRANSACTION] Memory request: addr=0x00000400
[2245] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[MEM] Response: data=0x00000801
[PTW] Memory Response: data=0x00000801
[2255] PTW State: 2 -> 3
[2255] Memory State: 2 -> 0
[2255] [TRANSACTION] Memory response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x00000800
[MEM] Request: addr=0x00000800, word_idx= 512
[PTW] Memory Request: addr=0x00000800
[2275] PTW State: 3 -> 4
[2275] Memory State: 0 -> 1
[2275] [TRANSACTION] Memory request: addr=0x00000800
[2285] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x1000000f
[MEM] Response: data=0x1000000f
[PTW] Memory Response: data=0x1000000f
[2295] PTW State: 4 -> 5
[2295] Memory State: 2 -> 0
[2295] [TRANSACTION] Memory response: data=0x1000000f
[PTW] Response: pte=0x1000000f
[2315] PTW State: 5 -> 0
[2315] [TRANSACTION] PTW response: pte=0x1000000f
  [INTEGRATED] Translation complete: pte=0x1000000f
PASS: Stress test iteration           4
  [INTEGRATED] Starting translation for vaddr=0x00001000
    VPN1=   0, VPN0=   1
[2345] [TRANSACTION] PTW request: vaddr=0x00001000
[2345] PTW State: 0 -> 1
[PTW] Request: vaddr=0x00001000, vpn1=   0, vpn0=   1
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[2365] [TRANSACTION] Memory request: addr=0x00000400
[2365] PTW State: 1 -> 2
[2365] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[2375] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[2385] [TRANSACTION] Memory response: data=0x00000801
[2385] PTW State: 2 -> 3
[2385] Memory State: 2 -> 0
[PTW] Memory Response: data=0x00000801
[MEM] Response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x00000804
[2405] [TRANSACTION] Memory request: addr=0x00000804
[2405] PTW State: 3 -> 4
[2405] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000804
[MEM] Request: addr=0x00000804, word_idx= 513
[2415] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x1100000f
[2425] [TRANSACTION] Memory response: data=0x1100000f
[2425] PTW State: 4 -> 5
[2425] Memory State: 2 -> 0
[PTW] Memory Response: data=0x1100000f
[MEM] Response: data=0x1100000f
[2445] [TRANSACTION] PTW response: pte=0x1100000f
[2445] PTW State: 5 -> 0
[PTW] Response: pte=0x1100000f
  [INTEGRATED] Translation complete: pte=0x1100000f
PASS: Stress test iteration           5
  [INTEGRATED] Starting translation for vaddr=0x00002000
    VPN1=   0, VPN0=   2
[PTW] Request: vaddr=0x00002000, vpn1=   0, vpn0=   2
[2475] PTW State: 0 -> 1
[2475] [TRANSACTION] PTW request: vaddr=0x00002000
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[PTW] Memory Request: addr=0x00000400
[2495] PTW State: 1 -> 2
[2495] Memory State: 0 -> 1
[2495] [TRANSACTION] Memory request: addr=0x00000400
[2505] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[MEM] Response: data=0x00000801
[PTW] Memory Response: data=0x00000801
[2515] PTW State: 2 -> 3
[2515] Memory State: 2 -> 0
[2515] [TRANSACTION] Memory response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x00000808
[MEM] Request: addr=0x00000808, word_idx= 514
[PTW] Memory Request: addr=0x00000808
[2535] PTW State: 3 -> 4
[2535] Memory State: 0 -> 1
[2535] [TRANSACTION] Memory request: addr=0x00000808
[2545] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x12000007
[MEM] Response: data=0x12000007
[PTW] Memory Response: data=0x12000007
[2555] PTW State: 4 -> 5
[2555] Memory State: 2 -> 0
[2555] [TRANSACTION] Memory response: data=0x12000007
[PTW] Response: pte=0x12000007
[2575] PTW State: 5 -> 0
[2575] [TRANSACTION] PTW response: pte=0x12000007
  [INTEGRATED] Translation complete: pte=0x12000007
PASS: Stress test iteration           6
  [INTEGRATED] Starting translation for vaddr=0x80000000
    VPN1= 512, VPN0=   0
[2605] [TRANSACTION] PTW request: vaddr=0x80000000
[2605] PTW State: 0 -> 1
[PTW] Request: vaddr=0x80000000, vpn1= 512, vpn0=   0
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000c00
[2625] [TRANSACTION] Memory request: addr=0x00000c00
[2625] PTW State: 1 -> 2
[2625] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000c00
[MEM] Request: addr=0x00000c00, word_idx= 768
[2635] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000000
[2645] [TRANSACTION] Memory response: data=0x00000000
[2645] PTW State: 2 -> 5
[2645] Memory State: 2 -> 0
[PTW] Memory Response: data=0x00000000
[MEM] Response: data=0x00000000
[2665] [TRANSACTION] PTW response: pte=0x00000000
[2665] PTW State: 5 -> 0
[PTW] Response: pte=0x00000000
  [INTEGRATED] Translation complete: pte=0x00000000
PASS: Stress test iteration           7

=== Test 8: Response Delay Handling ===
  [INTEGRATED] Starting translation for vaddr=0x00000000
    VPN1=   0, VPN0=   0
[PTW] Request: vaddr=0x00000000, vpn1=   0, vpn0=   0
[2695] PTW State: 0 -> 1
[2695] [TRANSACTION] PTW request: vaddr=0x00000000
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[PTW] Memory Request: addr=0x00000400
[2715] PTW State: 1 -> 2
[2715] Memory State: 0 -> 1
[2715] [TRANSACTION] Memory request: addr=0x00000400
[2725] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[MEM] Response: data=0x00000801
[PTW] Memory Response: data=0x00000801
[2735] PTW State: 2 -> 3
[2735] Memory State: 2 -> 0
[2735] [TRANSACTION] Memory response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x00000800
[MEM] Request: addr=0x00000800, word_idx= 512
[PTW] Memory Request: addr=0x00000800
[2755] PTW State: 3 -> 4
[2755] Memory State: 0 -> 1
[2755] [TRANSACTION] Memory request: addr=0x00000800
[2765] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x1000000f
[MEM] Response: data=0x1000000f
[PTW] Memory Response: data=0x1000000f
[2775] PTW State: 4 -> 5
[2775] Memory State: 2 -> 0
[2775] [TRANSACTION] Memory response: data=0x1000000f
[PTW] Response: pte=0x1000000f
[2795] PTW State: 5 -> 0
[2795] [TRANSACTION] PTW response: pte=0x1000000f
  [INTEGRATED] Translation complete: pte=0x1000000f
PASS: Delayed response handling

=== Test 9: Comprehensive Integration Test ===
  [INTEGRATED] Starting translation for vaddr=0x00000000
    VPN1=   0, VPN0=   0
[2825] [TRANSACTION] PTW request: vaddr=0x00000000
[2825] PTW State: 0 -> 1
[PTW] Request: vaddr=0x00000000, vpn1=   0, vpn0=   0
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[2845] [TRANSACTION] Memory request: addr=0x00000400
[2845] PTW State: 1 -> 2
[2845] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[2855] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[2865] [TRANSACTION] Memory response: data=0x00000801
[2865] PTW State: 2 -> 3
[2865] Memory State: 2 -> 0
[PTW] Memory Response: data=0x00000801
[MEM] Response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x00000800
[2885] [TRANSACTION] Memory request: addr=0x00000800
[2885] PTW State: 3 -> 4
[2885] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000800
[MEM] Request: addr=0x00000800, word_idx= 512
[2895] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x1000000f
[2905] [TRANSACTION] Memory response: data=0x1000000f
[2905] PTW State: 4 -> 5
[2905] Memory State: 2 -> 0
[PTW] Memory Response: data=0x1000000f
[MEM] Response: data=0x1000000f
[2925] [TRANSACTION] PTW response: pte=0x1000000f
[2925] PTW State: 5 -> 0
[PTW] Response: pte=0x1000000f
  [INTEGRATED] Translation complete: pte=0x1000000f
PASS: Comprehensive test           0: 0x00000000 -> 0x1000000f
  [INTEGRATED] Starting translation for vaddr=0x00001000
    VPN1=   0, VPN0=   1
[PTW] Request: vaddr=0x00001000, vpn1=   0, vpn0=   1
[2955] PTW State: 0 -> 1
[2955] [TRANSACTION] PTW request: vaddr=0x00001000
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[PTW] Memory Request: addr=0x00000400
[2975] PTW State: 1 -> 2
[2975] Memory State: 0 -> 1
[2975] [TRANSACTION] Memory request: addr=0x00000400
[2985] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[MEM] Response: data=0x00000801
[PTW] Memory Response: data=0x00000801
[2995] PTW State: 2 -> 3
[2995] Memory State: 2 -> 0
[2995] [TRANSACTION] Memory response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x00000804
[MEM] Request: addr=0x00000804, word_idx= 513
[PTW] Memory Request: addr=0x00000804
[3015] PTW State: 3 -> 4
[3015] Memory State: 0 -> 1
[3015] [TRANSACTION] Memory request: addr=0x00000804
[3025] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x1100000f
[MEM] Response: data=0x1100000f
[PTW] Memory Response: data=0x1100000f
[3035] PTW State: 4 -> 5
[3035] Memory State: 2 -> 0
[3035] [TRANSACTION] Memory response: data=0x1100000f
[PTW] Response: pte=0x1100000f
[3055] PTW State: 5 -> 0
[3055] [TRANSACTION] PTW response: pte=0x1100000f
  [INTEGRATED] Translation complete: pte=0x1100000f
PASS: Comprehensive test           1: 0x00001000 -> 0x1100000f
  [INTEGRATED] Starting translation for vaddr=0x00002000
    VPN1=   0, VPN0=   2
[3085] [TRANSACTION] PTW request: vaddr=0x00002000
[3085] PTW State: 0 -> 1
[PTW] Request: vaddr=0x00002000, vpn1=   0, vpn0=   2
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[3105] [TRANSACTION] Memory request: addr=0x00000400
[3105] PTW State: 1 -> 2
[3105] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[3115] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[3125] [TRANSACTION] Memory response: data=0x00000801
[3125] PTW State: 2 -> 3
[3125] Memory State: 2 -> 0
[PTW] Memory Response: data=0x00000801
[MEM] Response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x00000808
[3145] [TRANSACTION] Memory request: addr=0x00000808
[3145] PTW State: 3 -> 4
[3145] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000808
[MEM] Request: addr=0x00000808, word_idx= 514
[3155] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x12000007
[3165] [TRANSACTION] Memory response: data=0x12000007
[3165] PTW State: 4 -> 5
[3165] Memory State: 2 -> 0
[PTW] Memory Response: data=0x12000007
[MEM] Response: data=0x12000007
[3185] [TRANSACTION] PTW response: pte=0x12000007
[3185] PTW State: 5 -> 0
[PTW] Response: pte=0x12000007
  [INTEGRATED] Translation complete: pte=0x12000007
PASS: Comprehensive test           2: 0x00002000 -> 0x12000007
  [INTEGRATED] Starting translation for vaddr=0x00003000
    VPN1=   0, VPN0=   3
[PTW] Request: vaddr=0x00003000, vpn1=   0, vpn0=   3
[3215] PTW State: 0 -> 1
[3215] [TRANSACTION] PTW request: vaddr=0x00003000
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[PTW] Memory Request: addr=0x00000400
[3235] PTW State: 1 -> 2
[3235] Memory State: 0 -> 1
[3235] [TRANSACTION] Memory request: addr=0x00000400
[3245] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[MEM] Response: data=0x00000801
[PTW] Memory Response: data=0x00000801
[3255] PTW State: 2 -> 3
[3255] Memory State: 2 -> 0
[3255] [TRANSACTION] Memory response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x0000080c
[MEM] Request: addr=0x0000080c, word_idx= 515
[PTW] Memory Request: addr=0x0000080c
[3275] PTW State: 3 -> 4
[3275] Memory State: 0 -> 1
[3275] [TRANSACTION] Memory request: addr=0x0000080c
[3285] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000000
[MEM] Response: data=0x00000000
[PTW] Memory Response: data=0x00000000
[3295] PTW State: 4 -> 5
[3295] Memory State: 2 -> 0
[3295] [TRANSACTION] Memory response: data=0x00000000
[PTW] Response: pte=0x00000000
[3315] PTW State: 5 -> 0
[3315] [TRANSACTION] PTW response: pte=0x00000000
  [INTEGRATED] Translation complete: pte=0x00000000
PASS: Comprehensive test           3: 0x00003000 -> 0x00000000
  [INTEGRATED] Starting translation for vaddr=0x80000000
    VPN1= 512, VPN0=   0
[3345] [TRANSACTION] PTW request: vaddr=0x80000000
[3345] PTW State: 0 -> 1
[PTW] Request: vaddr=0x80000000, vpn1= 512, vpn0=   0
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000c00
[3365] [TRANSACTION] Memory request: addr=0x00000c00
[3365] PTW State: 1 -> 2
[3365] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000c00
[MEM] Request: addr=0x00000c00, word_idx= 768
[3375] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000000
[3385] [TRANSACTION] Memory response: data=0x00000000
[3385] PTW State: 2 -> 5
[3385] Memory State: 2 -> 0
[PTW] Memory Response: data=0x00000000
[MEM] Response: data=0x00000000
[3405] [TRANSACTION] PTW response: pte=0x00000000
[3405] PTW State: 5 -> 0
[PTW] Response: pte=0x00000000
  [INTEGRATED] Translation complete: pte=0x00000000
PASS: Comprehensive test           4: 0x80000000 -> 0x00000000
  [INTEGRATED] Starting translation for vaddr=0x00000800
    VPN1=   0, VPN0=   0
[PTW] Request: vaddr=0x00000800, vpn1=   0, vpn0=   0
[3435] PTW State: 0 -> 1
[3435] [TRANSACTION] PTW request: vaddr=0x00000800
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[PTW] Memory Request: addr=0x00000400
[3455] PTW State: 1 -> 2
[3455] Memory State: 0 -> 1
[3455] [TRANSACTION] Memory request: addr=0x00000400
[3465] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[MEM] Response: data=0x00000801
[PTW] Memory Response: data=0x00000801
[3475] PTW State: 2 -> 3
[3475] Memory State: 2 -> 0
[3475] [TRANSACTION] Memory response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x00000800
[MEM] Request: addr=0x00000800, word_idx= 512
[PTW] Memory Request: addr=0x00000800
[3495] PTW State: 3 -> 4
[3495] Memory State: 0 -> 1
[3495] [TRANSACTION] Memory request: addr=0x00000800
[3505] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x1000000f
[MEM] Response: data=0x1000000f
[PTW] Memory Response: data=0x1000000f
[3515] PTW State: 4 -> 5
[3515] Memory State: 2 -> 0
[3515] [TRANSACTION] Memory response: data=0x1000000f
[PTW] Response: pte=0x1000000f
[3535] PTW State: 5 -> 0
[3535] [TRANSACTION] PTW response: pte=0x1000000f
  [INTEGRATED] Translation complete: pte=0x1000000f
PASS: Comprehensive test           5: 0x00000800 -> 0x1000000f
  [INTEGRATED] Starting translation for vaddr=0x00001800
    VPN1=   0, VPN0=   1
[3565] [TRANSACTION] PTW request: vaddr=0x00001800
[3565] PTW State: 0 -> 1
[PTW] Request: vaddr=0x00001800, vpn1=   0, vpn0=   1
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00000400
[3585] [TRANSACTION] Memory request: addr=0x00000400
[3585] PTW State: 1 -> 2
[3585] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000400
[MEM] Request: addr=0x00000400, word_idx= 256
[3595] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000801
[3605] [TRANSACTION] Memory response: data=0x00000801
[3605] PTW State: 2 -> 3
[3605] Memory State: 2 -> 0
[PTW] Memory Response: data=0x00000801
[MEM] Response: data=0x00000801
    [MEM_ACCESS] Reading from addr=0x00000804
[3625] [TRANSACTION] Memory request: addr=0x00000804
[3625] PTW State: 3 -> 4
[3625] Memory State: 0 -> 1
[PTW] Memory Request: addr=0x00000804
[MEM] Request: addr=0x00000804, word_idx= 513
[3635] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x1100000f
[3645] [TRANSACTION] Memory response: data=0x1100000f
[3645] PTW State: 4 -> 5
[3645] Memory State: 2 -> 0
[PTW] Memory Response: data=0x1100000f
[MEM] Response: data=0x1100000f
[3665] [TRANSACTION] PTW response: pte=0x1100000f
[3665] PTW State: 5 -> 0
[PTW] Response: pte=0x1100000f
  [INTEGRATED] Translation complete: pte=0x1100000f
PASS: Comprehensive test           6: 0x00001800 -> 0x1100000f
  [INTEGRATED] Starting translation for vaddr=0xc0000000
    VPN1= 768, VPN0=   0
[PTW] Request: vaddr=0xc0000000, vpn1= 768, vpn0=   0
[3695] PTW State: 0 -> 1
[3695] [TRANSACTION] PTW request: vaddr=0xc0000000
  [INTEGRATED] PTW request sent, waiting for completion...
    [MEM_ACCESS] Reading from addr=0x00001000
[MEM] Request: addr=0x00001000, word_idx=   0
[PTW] Memory Request: addr=0x00001000
[3715] PTW State: 1 -> 2
[3715] Memory State: 0 -> 1
[3715] [TRANSACTION] Memory request: addr=0x00001000
[3725] Memory State: 1 -> 2
    [MEM_ACCESS] Got data=0x00000000
[MEM] Response: data=0x00000000
[PTW] Memory Response: data=0x00000000
[3735] PTW State: 2 -> 5
[3735] Memory State: 2 -> 0
[3735] [TRANSACTION] Memory response: data=0x00000000
[PTW] Response: pte=0x00000000
[3755] PTW State: 5 -> 0
[3755] [TRANSACTION] PTW response: pte=0x00000000
  [INTEGRATED] Translation complete: pte=0x00000000
PASS: Comprehensive test           7: 0xc0000000 -> 0x00000000

================================================
Memory-PTW Integrated Test Summary:
  Tests Passed:          32
  Tests Failed:           0
  Success Rate: 100.0%
  ðŸŽ‰ ALL INTEGRATED TESTS PASSED! ðŸŽ‰
  The Memory and PTW modules work perfectly together!
================================================
